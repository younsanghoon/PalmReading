# PalmReading 앱 개선 계획

## 1. 카메라 관련 타입 시스템 개선 (완료)

### 1.1 palm-reading-test.tsx 타입 오류 수정 (완료)
- [x] HTMLCanvasElement | null 타입을 HTMLCanvasElement에 할당하는 문제 해결
- [x] null 체크 로직 추가
- [x] 타입 캐스팅을 통한 타입 오류 해결
- [x] 예외 처리 추가

## 2. 다국어 지원 개선 계획

### 2.1 동물상 테스트 다국어 지원 개선 (우선순위: 높음)
- [ ] AnimalLanguageData, AnimalPersonality, AnimalPersonalityData 타입 정의 추가
- [ ] ANIMAL_PERSONALITIES 객체에 모든 지원 언어(ko, en, ja, zh, id, th, vi)에 대한 번역 데이터 추가
- [ ] 동물상 테스트 컴포넌트에서 현재 언어에 맞는 결과 표시 로직 개선
- [ ] 하드코딩된 한국어 텍스트를 번역 시스템(t 객체)으로 대체

### 2.2 에니어그램 테스트 다국어 지원 개선 (우선순위: 중간)
- [ ] EnneagramLanguageData, EnneagramTypeData, EnneagramTypesData 타입 정의 추가
- [ ] ENNEAGRAM_TYPES 객체에 모든 지원 언어에 대한 번역 데이터 추가
- [ ] calculateEnneagram 함수에 language 파라미터 추가
- [ ] 에니어그램 테스트 컴포넌트에서 현재 언어에 맞는 결과 표시 로직 개선

### 2.3 손금 테스트 다국어 지원 개선 (우선순위: 중간)
- [ ] PalmLanguageData, PalmLineData, PalmLinesData 타입 정의 추가
- [ ] PALM_LINES 객체에 모든 지원 언어에 대한 번역 데이터 추가
- [ ] 손금 테스트 컴포넌트에서 현재 언어에 맞는 결과 표시 로직 개선

## 3. 카메라 기능 통합 및 개선 계획

### 3.1 카메라 관련 타입 통합 (우선순위: 높음)
- [ ] global.d.ts와 animal-face-test.tsx의 CameraCaptureOptions 인터페이스 통합
- [ ] 일관된 카메라 인터페이스 설계
- [ ] 중복 코드 제거

### 3.2 카메라 기능 공통 훅 개발 (우선순위: 중간)
- [ ] useCamera 훅 개발
- [ ] 카메라 초기화, 캡처, 정리 등의 공통 로직 추출
- [ ] 에러 처리 강화
- [ ] 모바일 환경 최적화

## 4. 타입 시스템 정리 및 통합 계획

### 4.1 성격 테스트 관련 타입 통합 (우선순위: 낮음)
- [ ] personality.ts 파일에 모든 성격 테스트 관련 타입 정의 통합
- [ ] 중복 타입 정의 제거
- [ ] 일관된 네이밍 컨벤션 적용

### 4.2 타입 안전성 강화 (우선순위: 중간)
- [ ] any 타입 사용 최소화
- [ ] 명시적 타입 캐스팅 대신 타입 가드 사용
- [ ] 옵셔널 체이닝 및 널 병합 연산자 활용

## 5. 성능 및 사용자 경험 개선 계획

### 5.1 언어 변경 시 실시간 UI 업데이트 (우선순위: 낮음)
- [ ] React 컨텍스트 API를 활용한 언어 변경 처리
- [ ] 페이지 새로고침 없이 UI 업데이트
- [ ] 언어 변경 이벤트 처리 최적화

### 5.2 번역 데이터 관리 개선 (우선순위: 낮음)
- [ ] 번역 데이터를 외부 JSON 파일로 분리
- [ ] 언어별 번역 파일 분리
- [ ] 번역 데이터 로딩 최적화

## 실행 계획
1. 동물상 테스트 다국어 지원 개선 (1주)
2. 카메라 관련 타입 통합 (3일)
3. 에니어그램 테스트 다국어 지원 개선 (1주)
4. 손금 테스트 다국어 지원 개선 (1주)
5. 카메라 기능 공통 훅 개발 (1주)
6. 타입 안전성 강화 (3일)
7. 성격 테스트 관련 타입 통합 (2일)
8. 언어 변경 시 실시간 UI 업데이트 (3일)
9. 번역 데이터 관리 개선 (2일)

총 예상 소요 기간: 약 5주 